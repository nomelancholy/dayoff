# Project Context
- **Framework**: React (Vite), NestJS (Backend), TypeScript
- **Styling**: Tailwind CSS, Shadcn UI, Magic UI
- **State Management**: Zustand (Client Global State), Tanstack Query (Server State)
- **Database & Auth**: PostgreSQL (NestJS 서버에서만 사용, Supabase 미사용), Drizzle ORM, NestJS Auth (Passport/JWT)
- **Routing**: React-Router
- **Package Manager**: npm

# Coding Standards
- **Component**: 
 - 함수형 컴포넌트 사용. `const`로 정의하고 Named Export 사용 (`export const ComponentName = ...`).
 - 컴포넌트는 `props` 타입을 명시적으로 정의 (Interface 사용 권장).
- **Styling**: 
 - Tailwind CSS 유틸리티 클래스 우선 사용.
 - 조건부 스타일링은 `clsx`와 `tailwind-merge`를 조합한 `cn()` 유틸리티 함수 사용.
- **Database (PostgreSQL & Drizzle)**: 
 - **모든 DB 쿼리는 Drizzle ORM을 사용한다.**
 - 데이터 페칭 로직은 Tanstack Query의 `useQuery`, `useMutation` 내에서 실행하며, NestJS API 엔드포인트를 호출한다.
 - RLS(Row Level Security) 대신 NestJS의 Guard와 Interceptor를 활용하여 권한 및 보안 로직을 처리한다.
 - DB 스키마는 NestJS 서버 프로젝트 내에서 관리하며, Drizzle Kit을 사용하여 마이그레이션을 수행한다.
- **Type Safety**: 
 - `any` 사용 금지. 
 - Drizzle Schema에서 추론된 타입 또는 공유된 DTO(Data Transfer Object) 타입을 사용한다.
- **Import Paths**: 
  - 상대 경로(`../../`) 대신 Path Alias(`@/common`, `@/features`)를 적극 사용한다.

# Behavior Rules
- 코드를 수정할 때는 전체 파일을 다시 쓰지 말고, 변경된 부분만 명확히 제시할 것.
- 새로운 라이브러리 추가 전에는 반드시 이유와 함께 허락을 구할 것.
- 주석은 복잡한 비즈니스 로직에만 한글로 작성.
- Shadcn UI 컴포넌트 추가 시 `npx shadcn@latest add [component]` 명령어를 제안할 것.

# UI Implementation Rules
- **Reference Source**: `/_reference_ui` 폴더 내의 HTML 파일들을 디자인 원본으로 삼는다.
- **Layout**: 
  - Header와 Footer는 `Layout` 컴포넌트로 분리하여 `Outlet`을 감싸는 형태로 구현한다.
- **Responsiveness**: 모바일 퍼스트(Mobile-first)가 아닌, 데스크탑 기준에서 모바일로 줄여가는 방식 혹은 그 반대인지 명확히 하되, Tailwind의 `md:`, `lg:` prefix를 활용해 전 구간 반응형을 지원한다.

# Project Structure (Vite Standard)
*모든 소스 코드는 `app` 폴더 내에 위치한다.*

- **app/common**: 전역에서 공통으로 사용되는 요소
  - `components/ui`: Shadcn UI 컴포넌트 저장소
  - `components`: 그 외 공통 컴포넌트 (Header, Footer 등)
  - `hooks`: 전역 커스텀 훅
  - `lib`: `utils.ts` (cn 함수 포함), API Client 설정 (Axios/Fetch)
  - `store`: Zustand 전역 스토어

- **app/features**: 도메인/기능 단위 격리 (Feature-Sliced Design)
  - 구조: `app/features/[feature-name]/`
    - `components/`: 해당 기능 전용 컴포넌트
    - `api/`: NestJS 서버 API 호출 함수 (React Query에서 호출)
    - `types/`: 해당 기능 전용 타입 및 DTO 정의
    - `page/`: 해당 기능의 페이지 컴포넌트 (예: `page/Page.tsx`)
    - `routes.tsx`: 해당 기능의 라우트 정의 (선택 사항)

- **server**: NestJS 백엔드 (별도 프로젝트 구조)
  - `src/`: NestJS 소스 코드
  - `db/`: Drizzle 스키마 및 마이그레이션 파일

- **public**: 정적 애셋 (이미지, 폰트 등)